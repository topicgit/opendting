<!DOCTYPE html>
<html lang="zh" >
<head>
  <meta charset="UTF-8" />
  <title>谛听</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --glass-bg: rgba(255,255,255,0.35);
      --glass-border: rgba(255,255,255,0.45);
      --glass-dark-bg: rgba(20,20,20,0.32);
      --glass-dark-border: rgba(255,255,255,0.06);
      --ink: rgba(0,0,0,0.85);
    }

    /* 页面背景：水墨纸纹 + 轻微渐变 */
    body{
      font-family: 'Noto Serif SC', serif;
      background-image: radial-gradient(circle at 10% 20%, rgba(0,0,0,0.012), transparent 20%),
                        radial-gradient(circle at 90% 80%, rgba(0,0,0,0.008), transparent 20%),
                        linear-gradient(180deg, rgba(250,250,248,1), rgba(240,240,238,1));
      background-color: #fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .dark body{
      background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.02), transparent 20%),
                        radial-gradient(circle at 90% 80%, rgba(255,255,255,0.01), transparent 20%),
                        linear-gradient(180deg, rgba(10,10,12,1), rgba(14,14,16,1));
      background-color: #0b0b0b;
      color: #f7f7f7;
    }

    /* 全局玻璃容器样式 */
    .glass {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(14px) saturate(120%);
      -webkit-backdrop-filter: blur(14px) saturate(120%);
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(16,24,40,0.12);
    }
    .dark .glass{
      background: var(--glass-dark-bg);
      border: 1px solid var(--glass-dark-border);
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    }

    /* 搜索栏专用玻璃（更强光泽） */
    .glass-search{
      background: linear-gradient(180deg, rgba(255,255,255,0.42), rgba(255,255,255,0.18));
      border: 1px solid rgba(255,255,255,0.6);
      backdrop-filter: blur(18px) saturate(140%);
      -webkit-backdrop-filter: blur(18px) saturate(140%);
    }
    .dark .glass-search{
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.06);
    }

    /* 水墨边框：仿墨迹的微小不规则边缘（装饰） */
    .ink-edge{
      position: relative;
      overflow: visible;
    }
    .ink-edge::after{
      content: '';
      position: absolute;
      inset: -10px -12px -14px -12px;
      background: radial-gradient(circle at 10% 10%, rgba(0,0,0,0.04), transparent 14%),
                  radial-gradient(circle at 90% 90%, rgba(0,0,0,0.03), transparent 12%);
      pointer-events: none;
      filter: blur(6px);
      opacity: .9;
    }
    .dark .ink-edge::after{ opacity: .12; mix-blend-mode: overlay }

    /* 卡片玻璃细节 */
    .nav-card{
      transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s;
    }
    .nav-card:hover{ transform: translateY(-8px) scale(1.01); }

    /* iOS 风格圆角与光泽（顶部高光） */
    .glass::before{
      content: '';
      position: absolute; left:0; right:0; top:0;
      height: 40%;
      border-top-left-radius: 16px; border-top-right-radius:16px;
      pointer-events:none;
      background: linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.02));
      mix-blend-mode: overlay;
      opacity: .9;
    }

    /* 适配 reduced transparency 偏好 */
    @media (prefers-reduced-transparency: reduce){
      .glass, .glass-search{ backdrop-filter: none; -webkit-backdrop-filter: none; }
    }

    /* 小屏幕优化 */
    @media (max-width:640px){
      .glass{ border-radius:12px }
      .glass-search{ border-radius:12px }
    }

  </style>
</head>

<body class="bg-white text-black dark:bg-black dark:text-white transition-colors duration-500">
  <!-- 顶部：全局玻璃 header -->
  <header class="max-w-5xl mx-auto p-6 glass glass-search relative mt-8 ink-edge">
    <div class="flex items-center justify-between gap-4">
      <div>
        <h1 class="text-4xl font-bold tracking-widest"> 谛听 · 天枢</h1>
        <p class="mt-1 text-sm opacity-80">听万物 · 辨善恶 · 识真伪</p>
      </div>

      <div class="flex items-center gap-3">
        <button id="modeToggle" aria-label="切换深色模式" class="px-3 py-2 rounded-lg border border-white/30 text-sm">深色/浅色</button>
      </div>
    </div>
    <!-- 搜索栏（内嵌在 header 的玻璃块） -->
    <div class="mt-5">
      <input id="searchInput" placeholder="搜索网站、标签、描述..." class="w-full p-4 rounded-xl text-sm bg-gradient-to-r from-black/70 via-white/4  to-black/35   backdrop-blur-xl" />
    </div>

  </header>

  <main class="max-w-5xl mx-auto px-4 mt-8">



    <!-- 分组 + 卡片 -->
    <section id="groups" class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div class="glass p-4 ink-edge">
        <h3 class="text-xl font-semibold mb-4">新闻资讯</h3>
        <div id="group-tools" class="grid grid-cols-1 sm:grid-cols-2 gap-4">

          <!-- 卡片示例 -->
          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="jinrirebang" data-tags="搜索 国际" draggable="true">
            <a href="https://tophub.today/" target="_blank" class="flex items-start gap-3">
             <!--  <img src="https://file.ipadown.com/tophub/assets/images/logo.png" class="w-8 h-8 rounded" /> -->
              <div>
                <div class="font-semibold text-lg">今日热榜</div>
                <div class="text-sm opacity-70">新闻汇总</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">新闻</span>
                  <span class="px-2 py-1 border rounded">资讯</span>
                </div>
              </div>
            </a>
          </div>

          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="NewsNow" data-tags="代码 开发" draggable="true">
            <a href="https://newsnow.busiyi.world" target="_blank" class="flex items-start gap-3">
              <div>
                <div class="font-semibold text-lg">NewsNow</div>
                <div class="text-sm opacity-70">新闻聚合</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">新闻</span>
                  <span class="px-2 py-1 border rounded">资讯</span>
                </div>
              </div>
            </a>
          </div>

          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="infoq" data-tags="技术资讯" draggable="true">
            <a href="https://www.infoq.cn" target="_blank" class="flex items-start gap-3">
              <div>
                <div class="font-semibold text-lg">InfoQ</div>
                <div class="text-sm opacity-70">技术资讯</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">新闻</span>
                  <span class="px-2 py-1 border rounded">资讯</span>
                </div>
              </div>
            </a>
          </div>


        </div>
      </div>

      <div class="glass p-4 ink-edge">
        <h3 class="text-xl font-semibold mb-4">博客</h3>
        <div id="group-tools" class="grid grid-cols-1 sm:grid-cols-2 gap-4">

          <!-- 卡片示例 -->
          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="ruanyifeng" data-tags="博客" draggable="true">
            <a href="https://www.ruanyifeng.com/blog/" target="_blank" class="flex items-start gap-3">
              <div>
                <div class="font-semibold text-lg">阮一峰</div>
                <div class="text-sm opacity-70">技术博客</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">技术</span>
                  <span class="px-2 py-1 border rounded">博客</span>
                </div>
              </div>
            </a>
          </div>

          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="helloGitHub" data-tags="技术网站" draggable="true">
            <a href="https://hellogithub.com" target="_blank" class="flex items-start gap-3">
              <div>
                <div class="font-semibold text-lg">HelloGithub</div>
                <div class="text-sm opacity-70">技术网站</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">技术</span>
                  <span class="px-2 py-1 border rounded">网站</span>
                </div>
              </div>
            </a>
          </div>

          <div class="nav-card relative glass p-4 rounded-2xl nav-card" data-title="cnblogs" data-tags="博客" draggable="true">
            <a href="https://www.cnblogs.com/" target="_blank" class="flex items-start gap-3">
              <div>
                <div class="font-semibold text-lg">博客园</div>
                <div class="text-sm opacity-70">技术网站</div>
                <div class="mt-2 flex gap-2 text-xs opacity-80">
                  <span class="px-2 py-1 border rounded">技术</span>
                  <span class="px-2 py-1 border rounded">博客</span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>




        </div>
      </div>

    </section>

  </main>

  <footer class="max-w-5xl mx-auto mt-10 p-4 text-center text-xs opacity-70">© 谛听之眼 · 中枢 · 2025</footer>

<script>
// Persisted dark mode toggle
const modeToggle = document.getElementById('modeToggle');
(function(){
  const saved = localStorage.getItem('waterink-mode');
  if(saved === 'dark') document.documentElement.classList.add('dark');
  if(saved === 'light') document.documentElement.classList.remove('dark');
})();
modeToggle.addEventListener('click', ()=>{
  document.documentElement.classList.toggle('dark');
  localStorage.setItem('waterink-mode', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
});

// 搜索（标题 + tags + 描述）
const searchInput = document.getElementById('searchInput');
searchInput.addEventListener('input', () => {
  const q = searchInput.value.trim().toLowerCase();
  document.querySelectorAll('[data-title]').forEach(el => {
    const txt = (el.dataset.title + ' ' + (el.dataset.tags||'') + ' ' + (el.innerText||'')).toLowerCase();
    el.style.display = txt.includes(q) ? '' : 'none';
  });
});

// 简单拖拽排序并保存到 localStorage（只示范组内排序）
function initDrag(containerId, storageKey){
  const container = document.getElementById(containerId);
  if(!container) return;
  let dragEl = null;

  container.querySelectorAll('[draggable="true"]').forEach(el => {
    el.addEventListener('dragstart', e => { dragEl = el; el.classList.add('opacity-60') });
    el.addEventListener('dragend', e => { dragEl = null; el.classList.remove('opacity-60') });
    el.addEventListener('dragover', e => { e.preventDefault(); });
    el.addEventListener('drop', e => {
      e.preventDefault();
      if(!dragEl || dragEl === el) return;
      container.insertBefore(dragEl, el.nextSibling);
      saveOrder(containerId, storageKey);
    });
  });

  // restore order
  const saved = localStorage.getItem(storageKey);
  if(saved){
    const ids = saved.split(',');
    ids.forEach(id =>{
      const node = container.querySelector('[data-title="'+id+'"]');
      if(node) container.appendChild(node);
    });
  }
}
function saveOrder(containerId, storageKey){
  const container = document.getElementById(containerId);
  const order = Array.from(container.querySelectorAll('[data-title]')).map(n=>n.dataset.title);
  localStorage.setItem(storageKey, order.join(','));
}
// init for both groups
initDrag('group-tools','order-tools');
initDrag('group-social','order-social');

</script>
</body>
</html>
